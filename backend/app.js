const express = require("express");
const app = express();
const port = 4000;
const search = require("./routes/search");
const retrieveImage = require("./routes/movieimage");
const criticSays = require("./routes/critics");
const cors = require("cors");


app.use(express.json());
app.use(express.urlencoded({ extended: true }));
app.use(cors({origin: 'http://localhost:3000', credentials: true}));
app.use('/search', search);
app.use('/movieimage', retrieveImage);
app.use('/critic', criticSays);

app.get('/testing', (req, res) => {
    res.send('<div class="css-53u6y8"><p class="css-axufdj evys1bk0">Since its debut a few weeks ago at the Venice Film Festival, <a class="css-1g7m0tk" href="https://www.cnn.com/2019/09/07/entertainment/joker-venice-film-festival-trnd/index.html" title="" rel="noopener noreferrer" target="_blank">where it won the top prize</a>, Todd Phillips’s “<a class="css-1g7m0tk" href="https://www.nytimes.com/2019/10/03/movies/joker-movie.html" title="">Joker</a>” has stirred up quite a tempest. Hands have been wrung about the movie’s supposed potential to inspire acts of real-life violence, and criticism of its brutal nihilism has been met with a counter-backlash, including from Phillips himself, who has been sounding off about the <a class="css-1g7m0tk" href="https://www.washingtonpost.com/nation/2019/09/26/todd-phillips-joker-outrage-culture-gun-violence-critics/" title="" rel="noopener noreferrer" target="_blank">“far left” </a>and <a class="css-1g7m0tk" href="https://www.vanityfair.com/hollywood/2019/10/joaquin-phoenix-cover-story" title="" rel="noopener noreferrer" target="_blank">“woke culture”</a> and other threats to the ability of a murderous clown to make money unmolested. Meanwhile, the usual armies of skeptics and fans have squared off with ready-made accusations of bad faith, hypersensitivity and quasi-fascist groupthink.</p><p class="css-axufdj evys1bk0">We are now at the phase of the argument cycle when actual ticket buyers have a chance to see what all the fuss is about, which means that it’s also time for me to say my piece. And what I have to say is: Are you kidding me?</p></div><aside class="css-ew4tgv" aria-label="companion column"></aside><div class="css-53u6y8"><p class="css-axufdj evys1bk0">To be worth arguing about, a movie must first of all be interesting: it must have, if not a coherent point of view, at least a worked-out, thought-provoking set of themes, some kind of imaginative contact with the world as we know it. “<a class="css-1g7m0tk" href="https://www.nytimes.com/2019/10/03/movies/joker-movie.html" title="">Joker</a>,” an empty, foggy exercise in second-hand style and second-rate philosophizing, has none of that. Besotted with the notion of its own audacity — as if willful unpleasantness were a form of artistic courage — the film turns out to be afraid of its own shadow, or at least of the faintest shadow of any actual relevance.</p></div><aside class="css-ew4tgv" aria-label="companion column"></aside><div class="css-53u6y8"><p class="css-axufdj evys1bk0">It barely even works within the confines of its own genre, the comic-book movie. “Joker” is a supervillain origin story, involving a character whose big-screen résumé already includes three Oscar winners (two for other roles, but still). It’s not hard to see the appeal. The Joker, an embodiment of pure anarchy, can be played light or heavy, scary or fun or all at once. He can sneer like Jack Nicholson, snarl like Heath Ledger or … I’m still not sure what Jared Leto was doing, but never mind.</p><div id="NYT_MAIN_CONTENT_2_REGION" class="css-9tf9ac"></div><p class="css-axufdj evys1bk0">As embodied by Joaquin Phoenix, he laughs a lot — enough to ensure that no one else will. The hallmark of this “Joker” is its solemn witlessness. You might wonder how this could be the work of the same Todd Phillips who directed “The Hangover” and “Road Trip,” which have at least a reputation for being funny. The cleverest bit here is casting Robert De Niro as a late-night, Carsonesque talk-show host similar to the one played by Jerry Lewis in Martin Scorsese’s <a class="css-1g7m0tk" href="https://www.nytimes.com/video/movies/1247464838080/critics-picks-the-king-of-comedy.html" title="">“The King of Comedy.” </a>In that movie, De Niro was the crazy stalker, a talentless wannabe presuming to breathe the same air as his idol and quarry. This time out, he’s in the big chair, feeding the celebrity obsessions of Arthur Fleck.</p></div><aside class="css-ew4tgv" aria-label="companion column"></aside><div class="css-53u6y8"><p class="css-axufdj evys1bk0">That’s the Joker’s alter ego: a lonely, damaged man eking out an abject living as a clown-for-hire and living in a drab apartment with his mother (Frances Conroy). Phillips, who wrote the script with Scott Silver, takes us back to the bad old days of Gotham City, when work was scarce, rats were rampant and a garbage strike fouled the streets. Fleck is bullied by thieving poor kids and drunken rich guys, goaded to the point of murder by the meanness of the world. He has a crush on a neighbor (Zazie Beetz) that he thinks might be reciprocated. He keeps a notebook full of stand-up material and works up the nerve to go onstage at a nightclub open-mic night.</p></div><aside class="css-ew4tgv" aria-label="companion column"></aside><div class="css-53u6y8"><p class="css-axufdj evys1bk0">There’s nothing wrong with any of these plot points, or with the details that knit “Joker” into the familiar Batman world. Arthur has a connection to the Wayne family — we meet Alfred the butler and young Bruce — and also to Arkham Asylum. The problems arise when the film revs its allegorical engine and Phoenix tries to assemble a character from the tics and tropes he has been given.</p><p class="css-axufdj evys1bk0">Skinny, twitchy and at times startlingly graceful — Phoenix is one of the modern screen’s underrated dancers — Arthur has a physical and psychological resemblance to Freddie Quell, the misfit drifter Phoenix played in <a class="css-1g7m0tk" href="https://www.nytimes.com/2012/09/14/movies/review-the-master-from-paul-thomas-anderson.html" title="">“The Master.”</a> But he also carries the burden of being a victimized Everyman in a parable that can’t get its story straight. Arthur’s uncontrollable laughter arises from a medical condition that is possibly the result of childhood abuse. His profound alienation also arises from social inequality, the decline of civility, political corruption, television, government bureaucracy and a slew of other causes. Rich people are awful. Poor people are awful. Joker’s embrace of radical evil becomes a kind of integrity.</p><p class="css-axufdj evys1bk0">Or something. It’s hard to say if the muddle “Joker” makes of itself arises from confusion or cowardice, but the result is less a depiction of nihilism than a story about nothing. The look and the sound — cinematography by Lawrence Sher, cello-heavy score by Hildur Gudnadottir — connote gravity and depth, but the movie is weightless and shallow. It isn’t any fun, and it can’t be taken seriously. Is that the joke?</p><p class="css-pncxxs etfikam0"><strong class="css-8qgvsz ebyp5n10">Joker</strong></p><p class="css-pncxxs etfikam0">Rated R. Killer clown stuff. Running time: 2 hours 2 minutes.</p></div><aside class="css-ew4tgv" aria-label="companion column"></aside>');
})

app.listen(port, () => {
    console.log(`listening at ${port}`);
})